;********************************;.PAGE 'EDITOR';.OPT LIST;*********************************=$7000;********************************; EXTERNAL ADDRESS EQUATES;********************************CHKIN=$FFC6CHKOUT=$FFC9CHRIN=$FFCFCHROUT=$FFD2GETIN=$FFE4;********************************       LDA #$00       STA $38       STA $39       LDA #$00       STA $34       LDA #$70       STA $35       LDX #$00       JSR XX7570       LDA #$4C      ;'L';********************************       .BYTE $2C ;BIT ZP SKIP;********************************AA3016 LDA #$60       STA $87       LDA #$30      ;'0'       STA $88       LDA #$70       STA $89       JMP XX732C;********************************XX7025 STA $B3       PHP        PLA        STA $B4       STX $B5       STY $B6       RTS ;********************************       JSR XX7025       TSX        LDA $0101,X       CMP #$0F       BNE XX7042       LDA $0102,X       CMP #$B4       BEQ XX704DXX7042 LDY $B6       LDX $B5       LDA $B4       PHA        LDA $B3       PLP        RTS ;********************************XX704D JSR XX71C5       LDA $B4       LSR A       BCC XX709F       LDX #$00       STX $05       DEX        INX XX705B LDY $77XX705D LDA $0200,Y       SEC        SBC XX7583,X       BEQ XX7079       CMP #$80       BEQ XX707D       INC $05XX706C INX        LDA XX7582,X       BPL XX706C       LDA XX7583,X       BNE XX705B       BEQ XX7042XX7079 INX        INY        BNE XX705DXX707D STY $77       LDA $05       ASL A       TAX        LDA XX75BB+1,X ;XX75BC,X       PHA        LDA XX75BB,X       PHA        JSR XX7042       JMP $0070;********************************AA3091 JSR $B8F6       LDA $11       STA $38       LDA $12       STA $39       JMP XX732C;********************************XX709F PLA        PLA        JSR XX7042       JSR $B8F6       BEQ XX70E0       LDA $38       ORA $39       BEQ XX70E0       LDA $11       CLC        ADC $38       STA $60       LDA $12       ADC $39       STA $5F       LDX #$90       SEC        JSR $CD7F       JSR $CF93       LDX #$00       LDA #$20      ;' '       STA $026F,X       INX XX70CD LDA $0100,X       BEQ XX70D8       STA $026F,X       INX        BNE XX70CDXX70D8 LDA #$20      ;' '       STA $026F,X       INX        STX $9EXX70E0 JSR XX71D4       JMP $B425;********************************AA30E6 JSR $B8F6       JSR $B5A3       JSR $BEF5       JSR $B8F6       LDA $11       STA $DA       LDA $12       STA $DB       JSR $BEF5       JSR $B8F6XX7100 JSR XX72CD       BEQ XX7125       JSR XX72C3       CLC        LDA $DA       JSR XX72BF       ADC $11       STA $DA       LDA $DB       JSR XX72BF       ADC $12       STA $DBXX711B JSR XX72CD       BNE XX711B       JSR XX72C3       BNE XX7100XX7125 JMP XX732C;********************************AA3128 JSR XX72A5       JSR CHKINXX712E LDA #$01       JSR XX72B9XX7133 JSR CHRIN       CMP #$0D       BEQ XX7143       JSR XX72BF       LDA $96       BNE XX714C       BEQ XX7133XX7143 LDA #$00       JSR XX72BF       LDA $96       BEQ XX712EXX714C TYA        JSR XX72BC       LDA $5C       STA $2A       LDA $5D       STA $2B       JSR $F2E0       JSR $BADF       JSR XX72D5       LDA #$E8       STA $DA       LDA #$03       STA $DB       LDA #$0A       STA $11       STY $12       BNE XX7100AA3171 LDX #$00;********************************       .BYTE $2C ;BIT ZP SKIP;********************************AA3174 LDX #$FF       STX $B8       JSR XX725C       JSR CHKOUT       BNE XX7188XX7180 LDA #$0D       JSR CHROUT       JSR XX72C3XX7188 JSR XX72CD       BEQ XX7194       LDX $B8       JSR XX7474       BCS XX719EXX7194 JSR $F2E0       JMP XX732C;********************************XX719A TYA        JSR CHROUTXX719E JSR XX72CD       TAY        BEQ XX7180       CMP #$20      ;' '       BNE XX71B0       TXA        BMI XX719A       BNE XX719E       INX        BNE XX719AXX71B0 CMP #$3B      ;';'       BEQ XX71B8       CMP #$27      ;'''       BNE XX71BAXX71B8 LDX #$FFXX71BA TXA        BMI XX719A       LDX $B8       BEQ XX719A;********************************;         .BYTE $57  ;'W' ;??? ILLEGAL OPCODE;       BIT $2C53AA71C1 .TEXT 'W,S,';********************************XX71C5 SEI        LDX #$0F       STX $90       LDX #$72       STX $91       LDX #$01       STX $02       CLI        RTS ;********************************XX71D4 LDX #$FF       LDY #$00XX71D8 INX        LDA $0200,X       CMP #$20      ;' '       BEQ XX71D8;********************************       ;BIT $E8       .BYTE $24XX71E1 INX;********************************       LDA $0200,X       CMP #$30      ;'0'       BCC XX71ED       CMP #$3A      ;':'       BCC XX71E1XX71ED LDA $0200,X       CMP #$20      ;' '       BNE XX71F5       INX XX71F5 LDA $0200,X       BEQ XX7203       AND #$7F       STA $0200,Y       INX        INY        BNE XX71F5XX7203 STA $0200,Y       INY        INY        STA $0200,Y       INY        INY        INY        RTS ;********************************       LDA $0105,X       CMP #$2B      ;'+'       BNE XX7220       LDA $0106,X       CMP #$F9       BNE XX7220       JSR $FCC0XX7220 LDA $97       CMP $00       BEQ XX722F       STA $00       LDA #$10       STA $01XX722C JMP $E455;********************************XX722F CMP #$FF       BEQ XX722C       LDA $01       BEQ XX723B       DEC $01       BNE XX722CXX723B DEC $02       BNE XX722C       LDA #$04       STA $02       LDA #$00       STA $97       LDA #$02       STA $A8       BNE XX722CXX724D LDX #$00       STX $96       STX $D1       LDX #$08       STX $D2       STX $D3       JMP $F53C;********************************XX725C JSR XX724D       LDY #$00XX7261 LDA ($DA),Y       STA ($2A),Y       INY        CPY $D1       BNE XX7261       LDX #$04XX726C LDA AA71C1-1,X ;XX71C0,X       STA ($2A),Y       INY        DEX        BNE XX726C       STY $D1       LDA $2A       LDX $2B       STA $DA       STX $DB       JSR $0076       BEQ XX7287       JSR $F555XX7287 JSR XX7445XX728A LDA $5C       PHA        LDA $5D       PHA        JSR $F48E       PLA        STA $5D       PLA        STA $5C       LDA $D4       CMP #$03       BCS XX729FXX729F JSR $F563       LDX $D2       RTS ;********************************XX72A5 JSR XX724D       JSR $0076       BEQ XX72B0       JSR $F555XX72B0 JSR $B8F6       JSR $B5A3       JMP XX728A;********************************XX72B9 JSR XX72BCXX72BC JSR XX72BFXX72BF LDY #$00       STA ($5C),YXX72C3 INC $5C       BNE XX72C9       INC $5DXX72C9 RTS ;********************************       JSR XX72CDXX72CD JSR XX72C3       LDY #$00       LDA ($5C),Y       RTS ;********************************XX72D5 LDA $28       STA $5C       LDA $29       STA $5D       RTS ;********************************XX72DE JMP $BF00;********************************AA32E1 BEQ XX72DE       JSR XX7445       LDA $5C       LDX $5D       STA $21       STX $22       JSR $B5A3       BCC XX7301       LDY #$01       LDA ($5C),Y       BEQ XX7301       TAX        DEY        LDA ($5C),Y       STA $5C       STX $5DXX7301 LDA $21       SEC        SBC $5C       TAX        LDA $22       SBC $5D       TAY        BCS XX732C       TXA        CLC        ADC $2A       STA $2A       TYA        ADC $2B       STA $2B       LDY #$00XX731B LDA ($5C),Y       STA ($21),Y       INY        BNE XX731B       INC $5D       INC $22       LDA $2B       CMP $22       BCS XX731BXX732C JSR $B4B6       LDA $1F       LDX $20       CLC        ADC #$02       STA $2A       BCC XX733B       INX XX733B STX $2B       JSR $B5E9       JMP $B3FF;********************************AA3343 STA $05       LDX #$00       STX $30       JSR XX7425       LDX #$02       STX $46       BNE XX7358AA3352 STA $05       LDX #$00       STX $46XX7358 JSR XX7425       JSR $0070       BEQ XX7363       JSR $BEF5XX7363 JSR XX7445       JSR $BADF       BNE XX7376XX736B INY        TYA        CLC        ADC $5C       STA $5C       BCC XX7376       INC $5DXX7376 JSR XX72CD       BEQ XX7380       JSR XX7474       BCS XX7383XX7380 JMP $B4AD;********************************XX7383 STY $52XX7385 INC $52       LDY $52       LDX $2E       LDA $2F       STA $B3XX738F LDA ($5C),Y       BEQ XX736B       CMP $0200,X       BNE XX7385       INX        INY        DEC $B3       BNE XX738F       DEY        STY $05       STY $B5       LDA $46       BEQ XX7402       JSR XX7488       LDA $31       SEC        SBC $2F       STA $B4       BEQ XX73DBXX73B3 INY        BEQ XX7380       LDA ($5C),Y       BNE XX73B3       CLC        TYA        ADC $B4       CMP #$02       BCC XX7402       CMP #$4B      ;'K'       BCS XX7402       LDA $B4       BPL XX73CC       DEC $B3XX73CC CLC        ADC $05       STA $B5       BCS XX73D8       JSR XX74BC       BEQ XX73DBXX73D8 JSR XX74A4XX73DB LDA $B5       SEC        SBC $31       TAY        INY        LDA $31       BEQ XX73F5       STA $B6       LDX $30XX73EA LDA $0200,X       STA ($5C),Y       INX        INY        DEC $B6       BNE XX73EAXX73F5 CLC        LDA $2A       ADC $B4       STA $2A       LDA $2B       ADC $B3       STA $2BXX7402 LDX $40       LDA $41       JSR $CF83       LDY #$00       LDA #$20      ;' 'XX740D JSR CHROUT       INY        BNE XX7416       JMP $B4AD;********************************XX7416 LDA ($5C),Y       BNE XX740D       JSR $BADF       JSR XX7549       LDY $B5       JMP XX7383;********************************XX7425 LDY $77       INY        STY $2E,X       LDA #$00       STA $2F,XXX742E LDA $0200,Y       BEQ XX744D       CMP $05       BEQ XX743C       INC $2F,X       INY        BNE XX742EXX743C STY $77       RTS ;********************************AA343F PLA        PLA        BRK ;********************************       JMP $B3FF;********************************XX7445 BCC XX7450       BEQ XX7450       CMP #$2D      ;'-'       BEQ XX7450XX744D JMP $BF00;********************************XX7450 JSR $B8F6       JSR $B5A3       JSR $0076       BEQ XX7467       CMP #$2D      ;'-'       BNE XX744D       JSR $0070       JSR $B8F6       BNE XX744DXX7467 LDA $11       ORA $12       BNE XX7473       LDA #$FF       STA $11       STA $12XX7473 RTS ;********************************XX7474 JSR XX72CD       STA $40       JSR XX72CD       STA $41       SEC        LDA $11       SBC $40       LDA $12       SBC $41       RTS ;********************************XX7488 LDA $5C       STA $1F       LDA $5D       STA $20       LDA $2A       STA $21       LDA $2B       STA $22       RTS ;********************************XX7499 LDA $1F       CMP $21       BNE XX74A3       LDA $20       CMP $22XX74A3 RTS ;********************************XX74A4 LDY $05       INY        LDA ($1F),Y       LDY $B5       INY        STA ($1F),Y       JSR XX7499       BNE XX74B4       RTS ;********************************XX74B4 INC $1F       BNE XX74A4       INC $20       BNE XX74A4XX74BC LDY $05       LDA ($21),Y       LDY $B5       STA ($21),Y       JSR XX7499       BNE XX74CA       RTS ;********************************XX74CA LDA $21       BNE XX74D0       DEC $22XX74D0 DEC $21       JMP XX74BC;********************************AA34D5 JSR XX7445       BNE XX74DDXX74DA JSR XX72C3XX74DD JSR $BADF       JSR XX7549       JSR XX72CD       BEQ XX74ED       JSR XX7474       BCS XX74F0XX74ED JMP $B3FF;********************************XX74F0 LDX $40       LDA $41       JSR $CF83       LDA #$20      ;' '       JSR CHROUT       LDX #$00XX74FE JSR XX72CD       BEQ XX74DA       CMP #$3B      ;';'       BEQ XX753F       CMP #$20      ;' '       BEQ XX7511       JSR CHROUT       INX        BNE XX74FEXX7511 CPX #$07       BCS XX751B       JSR CHROUT       INX        BNE XX7511XX751B JSR XX72CD       BEQ XX74DA       CMP #$20      ;' '       BEQ XX751BXX7524 JSR CHROUT       INX        JSR XX72CD       BEQ XX74DA       CMP #$3B      ;';'       BNE XX7524       PHA        LDA #$20      ;' 'XX7534 CPX #$17       BCS XX753E       JSR CHROUT       INX        BNE XX7534XX753E PLA XX753F JSR CHROUT       JSR XX72CD       BEQ XX74DA       BNE XX753FXX7549 JSR GETIN       BEQ XX756C       CMP #$03       BNE XX7558XX7552 JSR $B5E9       JMP $B3FF;********************************XX7558 CMP #$20      ;' '       BNE XX756CXX755C JSR GETIN       CMP #$20      ;' '       BEQ XX755CXX7563 JSR GETIN       BEQ XX7563       CMP #$03       BEQ XX7552XX756C RTS ;********************************AA356D JMP $FD16;********************************XX7570 STX $B8XX7572 LDX $B8       LDA XX75D3,X       PHP        AND #$7F       JSR $E202       INC $B8       PLP        BPL XX7572XX7582 RTS ;********************************;********************************XX7583 .TEXT 'AUT'       .BYTE $CF       .TEXT 'BREA'       .BYTE $CB       .TEXT 'CHANG'       .BYTE $C5       .TEXT 'COL'       .BYTE $C4       .TEXT 'CPU'       .BYTE $D4       .TEXT 'DELET'       .BYTE $C5       .TEXT 'FIN'       .BYTE $C4       .TEXT 'FORMA'       .BYTE $D4       .TEXT 'GE'       .BYTE $D4       .TEXT 'KIL'       .BYTE $CC       .TEXT 'NUMBE'       .BYTE $D2       .TEXT 'PU'       .BYTE $D4       .BYTE $00;********************************;;********************************XX75BB .WORD AA3091-1 ;$3090       .WORD AA343F-1 ;$343E       .WORD AA3343-1 ;$3342       .WORD AA356D-1 ;$356C       .WORD AA3171-1 ;$3170       .WORD AA32E1-1 ;$32E0       .WORD AA3352-1 ;$3351       .WORD AA34D5-1 ;$34D4       .WORD AA3128-1 ;$3127       .WORD AA3016-1 ;$3015       .WORD AA30E6-1 ;$30E5       .WORD AA3174-1 ;$3173;********************************;;********************************XX75D3 .BYTE $0D       .BYTE $0D       .TEXT '32K EDITOR V121679'       .BYTE $0D       .TEXT '(C) 1979 BY COMMODORE BUISNESS MACHINES'       .BYTE $0D       .BYTE $8D       .BYTE $AA       .BYTE $AA       .BYTE $AA       .BYTE $AA       .BYTE $AA       .BYTE $AA       .BYTE $AA;********************************;********************************.END