;********************************;.PAGE 'EDITOR';.OPT LIST;*********************************=$3000;********************************; EXTERNAL ADDRESS EQUATES;********************************CHKIN=$FFC6CHKOUT=$FFC9CHRIN=$FFCFCHROUT=$FFD2GETIN=$FFE4;********************************       LDA #$00       STA $38       STA $39       LDA #$00       STA $34       LDA #$30      ;'0'       STA $35       LDX #$00       JSR XX3570       LDA #$4C      ;'L';********************************       .BYTE $2C ;BIT ZP SKIP;********************************AA3016 LDA #$60       STA $87       LDA #$30      ;'0'       STA $88       LDA #$30      ;'0'       STA $89       JMP XX332C;********************************XX3025 STA $B3       PHP        PLA        STA $B4       STX $B5       STY $B6       RTS ;********************************       JSR XX3025       TSX        LDA $0101,X       CMP #$0F       BNE XX3042       LDA $0102,X       CMP #$B4       BEQ XX304DXX3042 LDY $B6       LDX $B5       LDA $B4       PHA        LDA $B3       PLP        RTS ;********************************XX304D JSR XX31C5       LDA $B4       LSR A       BCC XX309F       LDX #$00       STX $05       DEX        INX XX305B LDY $77XX305D LDA $0200,Y       SEC        SBC XX3583,X       BEQ XX3079       CMP #$80       BEQ XX307D       INC $05XX306C INX        LDA XX3582,X       BPL XX306C       LDA XX3583,X       BNE XX305B       BEQ XX3042XX3079 INX        INY        BNE XX305DXX307D STY $77       LDA $05       ASL A       TAX        LDA XX35BB+1,X       PHA        LDA XX35BB,X       PHA        JSR XX3042       JMP $0070;********************************AA3091 JSR $B8F6       LDA $11       STA $38       LDA $12       STA $39       JMP XX332C;********************************XX309F PLA        PLA        JSR XX3042       JSR $B8F6       BEQ XX30E0       LDA $38       ORA $39       BEQ XX30E0       LDA $11       CLC        ADC $38       STA $60       LDA $12       ADC $39       STA $5F       LDX #$90       SEC        JSR $CD7F       JSR $CF93       LDX #$00       LDA #$20      ;' '       STA $026F,X       INX XX30CD LDA $0100,X       BEQ XX30D8       STA $026F,X       INX        BNE XX30CDXX30D8 LDA #$20      ;' '       STA $026F,X       INX        STX $9EXX30E0 JSR XX31D4       JMP $B425;********************************AA30E6 JSR $B8F6       JSR $B5A3       JSR $BEF5       JSR $B8F6       LDA $11       STA $DA       LDA $12       STA $DB       JSR $BEF5       JSR $B8F6XX3100 JSR XX32CD       BEQ XX3125       JSR XX32C3       CLC        LDA $DA       JSR XX32BF       ADC $11       STA $DA       LDA $DB       JSR XX32BF       ADC $12       STA $DBXX311B JSR XX32CD       BNE XX311B       JSR XX32C3       BNE XX3100XX3125 JMP XX332C;********************************AA3128 JSR XX32A5       JSR CHKINXX312E LDA #$01       JSR XX32B9XX3133 JSR CHRIN       CMP #$0D       BEQ XX3143       JSR XX32BF       LDA $96       BNE XX314C       BEQ XX3133XX3143 LDA #$00       JSR XX32BF       LDA $96       BEQ XX312EXX314C TYA        JSR XX32BC       LDA $5C       STA $2A       LDA $5D       STA $2B       JSR $F2E0       JSR $BADF       JSR XX32D5       LDA #$E8       STA $DA       LDA #$03       STA $DB       LDA #$0A       STA $11       STY $12       BNE XX3100AA3171 LDX #$00;********************************       .BYTE $2C ;BIT ZP SKIP;********************************AA3174 LDX #$FF       STX $B8       JSR XX325C       JSR CHKOUT       BNE XX3188XX3180 LDA #$0D       JSR CHROUT       JSR XX32C3XX3188 JSR XX32CD       BEQ XX3194       LDX $B8       JSR XX3474       BCS XX319EXX3194 JSR $F2E0       JMP XX332C;********************************XX319A TYA        JSR CHROUTXX319E JSR XX32CD       TAY        BEQ XX3180       CMP #$20      ;' '       BNE XX31B0       TXA        BMI XX319A       BNE XX319E       INX        BNE XX319AXX31B0 CMP #$3B      ;';'       BEQ XX31B8       CMP #$27      ;'''       BNE XX31BAXX31B8 LDX #$FFXX31BA TXA        BMI XX319A       LDX $B8       BEQ XX319A;********************************;         .BYTE $57  ;'W' ;??? ILLEGAL OPCODE;       BIT $2C53AA31C1 .TEXT 'W,S,';********************************XX31C5 SEI        LDX #$0F       STX $90       LDX #$32      ;'2'       STX $91       LDX #$01       STX $02       CLI        RTS ;********************************XX31D4 LDX #$FF       LDY #$00XX31D8 INX        LDA $0200,X       CMP #$20      ;' '       BEQ XX31D8;********************************       ;BIT $E8       .BYTE $24XX31E1 INX;********************************       LDA $0200,X       CMP #$30      ;'0'       BCC XX31ED       CMP #$3A      ;':'       BCC XX31E1XX31ED LDA $0200,X       CMP #$20      ;' '       BNE XX31F5       INX XX31F5 LDA $0200,X       BEQ XX3203       AND #$7F       STA $0200,Y       INX        INY        BNE XX31F5XX3203 STA $0200,Y       INY        INY        STA $0200,Y       INY        INY        INY        RTS ;********************************       LDA $0105,X       CMP #$2B      ;'+'       BNE XX3220       LDA $0106,X       CMP #$F9       BNE XX3220       JSR $FCC0XX3220 LDA $97       CMP $00       BEQ XX322F       STA $00       LDA #$10       STA $01XX322C JMP $E455;********************************XX322F CMP #$FF       BEQ XX322C       LDA $01       BEQ XX323B       DEC $01       BNE XX322CXX323B DEC $02       BNE XX322C       LDA #$04       STA $02       LDA #$00       STA $97       LDA #$02       STA $A8       BNE XX322CXX324D LDX #$00       STX $96       STX $D1       LDX #$08       STX $D2       STX $D3       JMP $F53C;********************************XX325C JSR XX324D       LDY #$00XX3261 LDA ($DA),Y       STA ($2A),Y       INY        CPY $D1       BNE XX3261       LDX #$04XX326C LDA AA31C1-1,X ;XX31C0,X       STA ($2A),Y       INY        DEX        BNE XX326C       STY $D1       LDA $2A       LDX $2B       STA $DA       STX $DB       JSR $0076       BEQ XX3287       JSR $F555XX3287 JSR XX3445XX328A LDA $5C       PHA        LDA $5D       PHA        JSR $F48E       PLA        STA $5D       PLA        STA $5C       LDA $D4       CMP #$03       BCS XX329FXX329F JSR $F563       LDX $D2       RTS ;********************************XX32A5 JSR XX324D       JSR $0076       BEQ XX32B0       JSR $F555XX32B0 JSR $B8F6       JSR $B5A3       JMP XX328A;********************************XX32B9 JSR XX32BCXX32BC JSR XX32BFXX32BF LDY #$00       STA ($5C),YXX32C3 INC $5C       BNE XX32C9       INC $5DXX32C9 RTS ;********************************       JSR XX32CDXX32CD JSR XX32C3       LDY #$00       LDA ($5C),Y       RTS ;********************************XX32D5 LDA $28       STA $5C       LDA $29       STA $5D       RTS ;********************************XX32DE JMP $BF00;********************************AA32E1 BEQ XX32DE       JSR XX3445       LDA $5C       LDX $5D       STA $21       STX $22       JSR $B5A3       BCC XX3301       LDY #$01       LDA ($5C),Y       BEQ XX3301       TAX        DEY        LDA ($5C),Y       STA $5C       STX $5DXX3301 LDA $21       SEC        SBC $5C       TAX        LDA $22       SBC $5D       TAY        BCS XX332C       TXA        CLC        ADC $2A       STA $2A       TYA        ADC $2B       STA $2B       LDY #$00XX331B LDA ($5C),Y       STA ($21),Y       INY        BNE XX331B       INC $5D       INC $22       LDA $2B       CMP $22       BCS XX331BXX332C JSR $B4B6       LDA $1F       LDX $20       CLC        ADC #$02       STA $2A       BCC XX333B       INX XX333B STX $2B       JSR $B5E9       JMP $B3FF;********************************AA3343 STA $05       LDX #$00       STX $30       JSR XX3425       LDX #$02       STX $46       BNE XX3358AA3352 STA $05       LDX #$00       STX $46XX3358 JSR XX3425       JSR $0070       BEQ XX3363       JSR $BEF5XX3363 JSR XX3445       JSR $BADF       BNE XX3376XX336B INY        TYA        CLC        ADC $5C       STA $5C       BCC XX3376       INC $5DXX3376 JSR XX32CD       BEQ XX3380       JSR XX3474       BCS XX3383XX3380 JMP $B4AD;********************************XX3383 STY $52XX3385 INC $52       LDY $52       LDX $2E       LDA $2F       STA $B3XX338F LDA ($5C),Y       BEQ XX336B       CMP $0200,X       BNE XX3385       INX        INY        DEC $B3       BNE XX338F       DEY        STY $05       STY $B5       LDA $46       BEQ XX3402       JSR XX3488       LDA $31       SEC        SBC $2F       STA $B4       BEQ XX33DBXX33B3 INY        BEQ XX3380       LDA ($5C),Y       BNE XX33B3       CLC        TYA        ADC $B4       CMP #$02       BCC XX3402       CMP #$4B      ;'K'       BCS XX3402       LDA $B4       BPL XX33CC       DEC $B3XX33CC CLC        ADC $05       STA $B5       BCS XX33D8       JSR XX34BC       BEQ XX33DBXX33D8 JSR XX34A4XX33DB LDA $B5       SEC        SBC $31       TAY        INY        LDA $31       BEQ XX33F5       STA $B6       LDX $30XX33EA LDA $0200,X       STA ($5C),Y       INX        INY        DEC $B6       BNE XX33EAXX33F5 CLC        LDA $2A       ADC $B4       STA $2A       LDA $2B       ADC $B3       STA $2BXX3402 LDX $40       LDA $41       JSR $CF83       LDY #$00       LDA #$20      ;' 'XX340D JSR CHROUT       INY        BNE XX3416       JMP $B4AD;********************************XX3416 LDA ($5C),Y       BNE XX340D       JSR $BADF       JSR XX3549       LDY $B5       JMP XX3383;********************************XX3425 LDY $77       INY        STY $2E,X       LDA #$00       STA $2F,XXX342E LDA $0200,Y       BEQ XX344D       CMP $05       BEQ XX343C       INC $2F,X       INY        BNE XX342EXX343C STY $77       RTS ;********************************AA343F PLA        PLA        BRK ;********************************       JMP $B3FF;********************************XX3445 BCC XX3450       BEQ XX3450       CMP #$2D      ;'-'       BEQ XX3450XX344D JMP $BF00;********************************XX3450 JSR $B8F6       JSR $B5A3       JSR $0076       BEQ XX3467       CMP #$2D      ;'-'       BNE XX344D       JSR $0070       JSR $B8F6       BNE XX344DXX3467 LDA $11       ORA $12       BNE XX3473       LDA #$FF       STA $11       STA $12XX3473 RTS ;********************************XX3474 JSR XX32CD       STA $40       JSR XX32CD       STA $41       SEC        LDA $11       SBC $40       LDA $12       SBC $41       RTS ;********************************XX3488 LDA $5C       STA $1F       LDA $5D       STA $20       LDA $2A       STA $21       LDA $2B       STA $22       RTS ;********************************XX3499 LDA $1F       CMP $21       BNE XX34A3       LDA $20       CMP $22XX34A3 RTS ;********************************XX34A4 LDY $05       INY        LDA ($1F),Y       LDY $B5       INY        STA ($1F),Y       JSR XX3499       BNE XX34B4       RTS ;********************************XX34B4 INC $1F       BNE XX34A4       INC $20       BNE XX34A4XX34BC LDY $05       LDA ($21),Y       LDY $B5       STA ($21),Y       JSR XX3499       BNE XX34CA       RTS ;********************************XX34CA LDA $21       BNE XX34D0       DEC $22XX34D0 DEC $21       JMP XX34BC;********************************AA34D5 JSR XX3445       BNE XX34DDXX34DA JSR XX32C3XX34DD JSR $BADF       JSR XX3549       JSR XX32CD       BEQ XX34ED       JSR XX3474       BCS XX34F0XX34ED JMP $B3FF;********************************XX34F0 LDX $40       LDA $41       JSR $CF83       LDA #$20      ;' '       JSR CHROUT       LDX #$00XX34FE JSR XX32CD       BEQ XX34DA       CMP #$3B      ;';'       BEQ XX353F       CMP #$20      ;' '       BEQ XX3511       JSR CHROUT       INX        BNE XX34FEXX3511 CPX #$07       BCS XX351B       JSR CHROUT       INX        BNE XX3511XX351B JSR XX32CD       BEQ XX34DA       CMP #$20      ;' '       BEQ XX351BXX3524 JSR CHROUT       INX        JSR XX32CD       BEQ XX34DA       CMP #$3B      ;';'       BNE XX3524       PHA        LDA #$20      ;' 'XX3534 CPX #$17       BCS XX353E       JSR CHROUT       INX        BNE XX3534XX353E PLA XX353F JSR CHROUT       JSR XX32CD       BEQ XX34DA       BNE XX353FXX3549 JSR GETIN       BEQ XX356C       CMP #$03       BNE XX3558XX3552 JSR $B5E9       JMP $B3FF;********************************XX3558 CMP #$20      ;' '       BNE XX356CXX355C JSR GETIN       CMP #$20      ;' '       BEQ XX355CXX3563 JSR GETIN       BEQ XX3563       CMP #$03       BEQ XX3552XX356C RTS ;********************************AA356D JMP $FD16;********************************XX3570 STX $B8XX3572 LDX $B8       LDA XX35D3,X       PHP        AND #$7F       JSR $E202       INC $B8       PLP        BPL XX3572XX3582 RTS ;********************************;********************************XX3583 .TEXT 'AUT'       .BYTE $CF       .TEXT 'BREA'       .BYTE $CB       .TEXT 'CHANG'       .BYTE $C5       .TEXT 'COL'       .BYTE $C4       .TEXT 'CPU'       .BYTE $D4       .TEXT 'DELET'       .BYTE $C5       .TEXT 'FIN'       .BYTE $C4       .TEXT 'FORMA'       .BYTE $D4       .TEXT 'GE'       .BYTE $D4       .TEXT 'KIL'       .BYTE $CC       .TEXT 'NUMBE'       .BYTE $D2       .TEXT 'PU'       .BYTE $D4       .BYTE $00;********************************;;********************************XX35BB .WORD AA3091-1 ;$3090       .WORD AA343F-1 ;$343E       .WORD AA3343-1 ;$3342       .WORD AA356D-1 ;$356C       .WORD AA3171-1 ;$3170       .WORD AA32E1-1 ;$32E0       .WORD AA3352-1 ;$3351       .WORD AA34D5-1 ;$34D4       .WORD AA3128-1 ;$3127       .WORD AA3016-1 ;$3015       .WORD AA30E6-1 ;$30E5       .WORD AA3174-1 ;$3173;********************************;;********************************XX35D3 .BYTE $0D       .BYTE $0D       .TEXT '16K EDITOR V121679'       .BYTE $0D       .TEXT '(C) 1979 BY COMMODORE BUISNESS MACHINES'       .BYTE $0D       .BYTE $8D       .BYTE $AA;********************************;********************************.END